{% macro service_template(fields) %}	
	<div>
		<div class="col-sm-2">
			{{ form_label(fields.image, null, {"label_attr": {"class": "control-label"}}) }}
		</div>
		<div class="col-sm-10">
			{{ form_widget(fields.image, {"attr": {"class": "form-control"}}) }}
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-2">
			{{ form_label(fields.imageCaption, null, {"label_attr": {"class": "control-label"}}) }}
		</div>
		<div class="col-sm-10">
			{{ form_widget(fields.imageCaption, {"attr": {"class": "form-control"}}) }}
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-2">
			{{ form_label(fields.imageCopyright, null, {"label_attr": {"class": "control-label"}}) }}
		</div>
		<div class="col-sm-10">
			{{ form_widget(fields.imageCopyright, {"attr": {"class": "form-control"}}) }}
		</div>
	</div>
{% endmacro %}

{# 
   The block name must match your field name!
   You can find it by going into the debug toolbar -> Forms -> 
   click on your form field and then search for "unique_block_prefix". 
   Copy that and add "_widget" at the end.
#}

{% block _appbundle_imagecollection_images_widget %}
    <div id="appbundle_imagecollection_images" data-prototype="{{ _self.service_template(form.vars.prototype)|e }}">
        {% for fields in form.children %}
            {{ _self.service_template(fields) }}
        {% endfor %}
    </div>
{% endblock %}